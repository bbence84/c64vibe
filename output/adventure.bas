10 POKE 53280,6:POKE 53281,6:PRINT CHR$(147):GOSUB 9000
20 DIM D(20,4),R$(20),I$(10),IL(10)
30 FOR I=1 TO 20:READ R$(I):FOR J=1 TO 4:READ D(I,J):NEXT J:NEXT I
40 FOR I=1 TO 10:READ I$,L:I$(I)=I$:IL(I)=L:NEXT I
50 L=1:F=0:REM L=LOCATION, F=GAME FLAG
60 PRINT CHR$(147);CHR$(14);:GOSUB 1000
100 PRINT:PRINT "MIT TESZEL TAPSI?";:INPUT A$
110 IF A$="E" OR A$="ESZAK" THEN D=1:GOTO 200
120 IF A$="D" OR A$="DEL" THEN D=2:GOTO 200
130 IF A$="K" OR A$="KELET" THEN D=3:GOTO 200
140 IF A$="NY" OR A$="NYUGAT" THEN D=4:GOTO 200
150 IF A$="N" OR A$="NEZ" THEN GOSUB 1000:GOTO 100
160 IF LEFT$(A$,3)="FOG" THEN GOSUB 300:GOTO 100
170 IF A$="I" OR A$="TARGYAK" THEN GOSUB 400:GOTO 100
180 IF A$="H" OR LEFT$(A$,4)="HASZ" THEN GOSUB 500:GOTO 100
190 PRINT "NEM ERTEM. (E,D,K,NY,NEZ,FOG <TARGY>,TARGYAK,HASZNAL <TARGY>)"
195 GOTO 100
200 REM MOVEMENT
210 NL=D(L,D)
220 IF NL=0 THEN PRINT "ARRA NEM MEHETSZ!":GOTO 100
225 IF NL=11 AND IL(6)<>0 THEN PRINT "SOTET VAN! KELL A VARAZSMAKK!":GOTO 100
226 IF NL=18 AND IL(7)<>0 THEN PRINT "A KAPU ZARVA VAN! KELL A KULCS!":GOTO 100
230 L=NL:PRINT CHR$(147):GOSUB 1000:GOTO 100
300 REM TAKE ITEM
310 O$=MID$(A$,5):IF O$="" THEN PRINT "MIT AKARSZ FOGNI?":RETURN
320 FOR I=1 TO 10:IF O$=I$(I) THEN 340
330 NEXT I:PRINT "NINCS ILYEN ITT.":RETURN
340 IF IL(I)<>L THEN PRINT "EZ NINCS ITT!":RETURN
350 IL(I)=0:PRINT "FELVETTED: ";I$(I):RETURN
400 REM INVENTORY
410 PRINT "NALAD VAN:"
420 C=0:FOR I=1 TO 10:IF IL(I)=0 THEN PRINT I$(I):C=C+1
430 NEXT I:IF C=0 THEN PRINT "SEMMI."
440 RETURN
500 REM USE ITEM
510 O$=MID$(A$,9):IF O$="" THEN PRINT "MIT HASZNALSZ?":RETURN
520 FOR I=1 TO 10:IF O$=I$(I) THEN 540
530 NEXT I:PRINT "NEM TUDOD HASZNALNI.":RETURN
540 IF IL(I)<>0 THEN PRINT "NINCS NALAD!":RETURN
550 REM SPECIFIC PUZZLES
560 IF I=2 AND L=7 THEN PRINT "A ROKA ORUL A BOGYONAK! KAPTAL EGY KULCSOT!":IL(2)=-1:IL(7)=L:RETURN
570 IF I=6 THEN PRINT "A MAKK VILAGIT!":RETURN
580 IF I=5 AND L=14 THEN PRINT "MEGONTZOZTED A KERTET. A BOSZORKANY ADOTT EGY TIPPET.":PRINT "'KERESD A ROMOKAT DELEN!'":RETURN
590 IF I=10 THEN PRINT "MEGTALALTAD AZ ARANY REPAT! NYERTEL!":END
600 PRINT "ENNEK ITT SEMMI ERTELME.":RETURN
1000 REM LOOK
1010 PRINT "HELYSZIN: ";R$(L)
1020 PRINT "LATHATO UTAK: ";
1030 IF D(L,1)>0 THEN PRINT "ESZAK ";
1040 IF D(L,2)>0 THEN PRINT "DEL ";
1050 IF D(L,3)>0 THEN PRINT "KELET ";
1060 IF D(L,4)>0 THEN PRINT "NYUGAT ";
1070 PRINT
1080 PRINT "TARGYAK ITT: ";
1090 C=0:FOR I=1 TO 10:IF IL(I)=L THEN PRINT I$(I);", ";:C=1
1100 NEXT I:IF C=0 THEN PRINT "NINCS." ELSE PRINT
1110 RETURN
2000 DATA "NYULHAZ (OTTHON)",0,2,0,0
2010 DATA "ERDOSZEL",1,5,3,4
2020 DATA "MOHAS KO",0,0,0,2
2030 DATA "BOGYOS BOKOR",0,0,2,0
2040 DATA "OREG TOLGY",2,8,6,0
2050 DATA "BAGOLY FESZKE",0,0,0,5
2060 DATA "ROKA ODU",0,0,8,0
2070 DATA "TISZTAS",5,9,0,7
2080 DATA "PATAK",8,10,0,0
2090 DATA "ROZOGA HID",9,11,0,0
2100 DATA "SOTET BARLANG",10,12,0,0
2110 DATA "GOMBAKOR",11,13,0,0
2120 DATA "BOSZORKANY KUNYHO",12,14,0,0
2130 DATA "KERT",13,15,0,0
2140 DATA "MEREDEK DOMB",14,16,0,0
2150 DATA "FENYVES",15,17,0,0
2160 DATA "FAGYOTT TO",16,18,0,0
2170 DATA "ELHAGYOTT BANYA",17,19,0,0
2180 DATA "KRISTALYBARLANG",18,20,0,0
2190 DATA "OSI ROMOK",19,0,0,0
3000 DATA "REPA",1,"KEK BOGYO",4,"TOLL",8,"VODOR",13,"VIZ",9,"VARAZSMAKK",6,"ROZSDAS KULCS",0,"KOTEL",14,"DRAGAKO",19,"ARANY REPA",20
9000 REM INTRO
9010 PRINT "A VARAZSERDO NYULA"
9020 PRINT "KERESD MEG AZ ARANY REPAT!"
9030 PRINT "IRANYITAS: E, D, K, NY"
9040 PRINT "PARANCSOK: NEZ, FOG, TARGYAK, HASZNAL"
9050 PRINT:PRINT "NYOMJ EGY GOMBOT!"
9060 GET K$:IF K$="" THEN 9060
9070 RETURN
